<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>受控组件</title>
</head>
<body>
    <div id="box"></div>
    <script src="../react_js/react.development.js"></script>
    <script src="../react_js/react-dom.development.js"></script>
    <script src="../react_js/babel.min.js"></script>

    <script type="text/babel">
        class App extends React.Component{

            state = {
                username: ''
            }

            constructor(props){
                super(props);
            }

            handleChange = (event) => {
                console.log('xxxx');
                // 1. 同步更新state中的username状态数据
                this.setState({
                    username: event.target.value
                });
            }

            handleSubmit = (event) => {
                event.preventDefault();

                // 1. 收集表单数据： username, password
                let passwordValue = this.refs.password.value;
                let username = this.state.username;
                // 2. 展示数据
                alert(`username: ${username}, password: ${passwordValue}`);
            }

            render(){
                return (
                    <div>
                        <form onSubmit={this.handleSubmit}>
                            <input onChange={this.handleChange} type="text" placeholder="用户名"/>
                            <input ref="password" type="text" placeholder="密码"/>
                            <button>提交</button>
                        </form>
                        <p>用户名：{this.state.username}</p>
                    </div>
                )
            }
        }

        ReactDOM.render( <App/>, document.getElementById('box'));
    </script>

</body>
</html>